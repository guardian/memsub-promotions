<div layout="row" layout-align=" stretch" flex ng-cloak>
    <div layout-padding style="border-right: 1px solid #BBB; overflow: auto" layout-align="stretch" flex="50">
        <form name="promotionForm">
            <div layout="column">
                <h3>Promotion Details</h3>

                <md-input-container>
                    <label>Campaign</label><input ng-disabled="true" type="text" value="{{ promotion.campaignCode }} â€” {{ promotion.campaignName }}"/>
                </md-input-container>

                <md-input-container>
                    <label>Name</label><input name="name" ng-model="promotion.name" required/>
                </md-input-container>

                <md-input-container>
                    <label>Description (for checkout page when promotion applied)</label><textarea ng-model="promotion.description" name="description" ng-trim="false" rows="3" required></textarea>
                </md-input-container>

                <promotion-type promotion="promotion"></promotion-type>
                <rate-plan-list product-rate-plan-ids="promotion.appliesTo.productRatePlanIds" product="environment.product"></rate-plan-list>
                <available-countries countries="promotion.appliesTo.countries"></available-countries>
                <promotion-dates promotion="promotion"></promotion-dates>
                <channel-codes codes="promotion.codes"></channel-codes>

                <landing-page landing-page="promotion.landingPage" product="environment.product"></landing-page>
                <section layout="row" layout-sm="column" layout-align="end center" layout-wrap>
                    <md-button ng-click="ctrl.update(promotion)" class="md-raised md-primary">Save and Preview</md-button>
                    <md-button ng-click="ctrl.save(promotion)" class="md-raised md-primary">Save and Close</md-button>
                </section>
            </div>
        </form>
    </div>
    <div layout="column" flex>
        <preview-promotion layout="column" flex promotion="promotion"></preview-promotion>
    </div>
</div>
