<ng-form name="promoType" layout="column">
    <h5>Promotion type</h5>
    <md-tabs md-dynamic-height md-selected="selectedTab">

        <!-- Incentives -->
        <md-tab label="Incentive" ng-click="ctrl.setPromotionType('incentive')">
            <md-content class="md-padding md-tab-content">
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Redemption instructions</label>
                    <textarea ng-model="promotionType.redemptionInstructions" name="redemption" ng-required="promotionType.name == 'incentive'"></textarea>
                    <div ng-messages="promoType.redemption.$error" role="alert">
                        <ng-message when="required">This field is required</ng-message>
                    </div>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Terms and conditions</label>
                    <textarea ng-model="promotionType.termsAndConditions" delete-empty></textarea>
                </md-input-container>
            </md-content>
        </md-tab>

        <!-- Free trials -->
        <md-tab label="Free trial" ng-click="ctrl.setPromotionType('free_trial')">
            <md-content class="md-padding md-tab-content">
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Duration (days)</label>
                    <input type="number" name="duration" ng-model="promotionType.duration" ng-required="promotionType.name == 'free_trial'">
                    <div ng-messages="promoType.duration.$error" role="alert">
                        <ng-message when="required">This field is required</ng-message>
                        <ng-message when="number">Please enter a number</ng-message>
                    </div>
                </md-input-container>
            </md-content>
        </md-tab>

        <!-- Percent discounts -->
        <md-tab label="Discount" ng-click="ctrl.setPromotionType('percent_discount')">
            <md-content class="md-padding md-tab-content">
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Duration (months)</label>
                    <input type="number" ng-model="promotionType.durationMonths" delete-empty>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm>
                    <label>Amount (%)</label>
                    <input type="number" ng-model="promotionType.amount" ng-required="promotionType.name == 'discount'">
                </md-input-container>
            </md-content>
        </md-tab>

        <!-- Tracking -->
        <md-tab label="Tracking" ng-click="ctrl.setPromotionType('tracking')">
            <md-content class="md-padding md-tab-content">
                <p ng-show="product == 'membership'">For Tracking promotions, the <b>Rate plans</b> below are only used to choose the landing page tier.</p>
            </md-content>
        </md-tab>
    </md-tabs>
</ng-form>